model User {
    id        String     @id @default(uuid())
    email     String     @unique
    password  String
    role      UserRole
    status    UserStatus @default(ACTIVE)
    createdAt DateTime   @default(now())
    updatedAt DateTime   @updatedAt
    admin     Admin?
    guide     Guide?
    tourist   Tourist?

    @@map("users")
}

model Admin {
    id            String   @id @default(uuid())
    email         String   @unique
    name          String
    profilePhoto  String?
    address       String?
    contactNumber String?
    isDeleted     Boolean  @default(false)
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt
    user          User     @relation(fields: [email], references: [email])

    @@map("admins")
}

model Guide {
    id              String   @id @default(uuid())
    email           String   @unique
    name            String
    bio             String?
    profilePhoto    String?
    address         String?
    contactNumber   String?
    experienceYears Int      @default(0)
    avrgRating      Float    @default(0.0)
    isDeleted       Boolean  @default(false)
    createdAt       DateTime @default(now())
    updatedAt       DateTime @updatedAt
    user            User     @relation(fields: [email], references: [email])
    tours           Tour[]
    reviews         Review[]

    @@map("guides")
}

model Tourist {
    id            String    @id @default(uuid())
    email         String    @unique
    name          String
    profilePhoto  String?
    address       String?
    contactNumber String?
    isDeleted     Boolean   @default(false)
    createdAt     DateTime  @default(now())
    updatedAt     DateTime  @updatedAt
    user          User      @relation(fields: [email], references: [email])
    bookings      Booking[]
    reviews       Review[]

    @@map("tourists")
}
